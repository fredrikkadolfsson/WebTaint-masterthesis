\chapter{Introduction}
\label{Introduction}
The creation of the World Wide Web has caused a significant impact on today's society \parencite{www}. The internet has become an essential source of information and it connects the world socially through a single platform. Furthermore, many businesses have taken advantage of the World Wide Web to share information, communicate with customers, and create new business opportunities. However, this advancement in technology does not come without drawbacks. The web applications are not only accessible to targeted user groups but also to anyone with access to the web. This enables malicious users to abuse and causes harm to other users and companies behind the web applications.

There is documented a plethora of incidents causing vulnerabilities resulting in, e.g., money loss, disclosure or to the destruction of information. One of these incidents is the infamous Heartbleed Bug which affected all users of the OpenSSL cryptographic library. The cryptographic library accidentally contained a bug causing protected information to be readable by anybody on the web \parencite{Heartbleed}. Another vulnerability was the Stagefright which affected Android users only. The vulnerability made it possible through a cmalicious MMS to gain full control over Smartphones \parencite{2015ASvt}. 

All applications with accessibility from the web share the same problem of managing both trusted and untrusted data. The trusted data comes from the application itself and is, for example, the database. Untrusted data is data modifiable by users through for example an input form. Therefore untrusted data needs to be sanitized before being used. The consequences the use of untrusted data could be catastrophic. A variety of tools have therefore been created to minimize the risk of accidentally introducing security flaws into the web applications. One of these tools is the taint tracker, which attempts are to secure the applications through information flow control. The taint tracker works by tracking down untrusted data through the application into sensitive code areas which for example is database queries. Cases, where untrusted data can enter sensitive code areas, will be flagged to let the developers know where further development in the form of sanitation is needed to secure the application \parencite{Pan2015, Venkataramani2008}. This opens for the questions how useful the taint tracker is for web applications and also if a dynamic taint tracker can be used as a security solution for production services.



\section{Problem}
\label{Problem}
\begin{chapquote}{}
    How can taint tracking secure Java-based web applications? What kind of advantages and disadvantages will this entail?
\end{chapquote}

\noindent
When developing web applications it is recognized that safety is a growing problem and that work towards protecting user data is necessary. Two of the most common vulnerabilities in the area, according to the Open Web Application Security Project, are Injection attacks and Cross-Site Scripting caused by unsanitized user input \parencite{OWASP2017}. The procedure to fight the problem with unsanitized user input has a diversity of solutions where taint tracking is one. The purpose is to protect the web applications by implementing a dynamic taint tracker which both runs and analyzes the code at runtime. However, the question to ask it to know to what extent the taint tracker will protect the application. Also, what advantages and disadvantages it will entail. Furthermore, if the solution is capable of being integrated into production services.



\section{Aim}
\label{Aim}
This thesis aims to implement and evaluate a dynamic taint tracker, named WebTaint, which combat integrity and confidentiality vulnerabilities in Java-based web applications. 

The implementation of WebTaint aims to allow tracking of taint for Strings including all data types used for String operations. These data types are String, StringBuilder, StringBuffer, CharArray and ByteArray. The evaluation of WebTaint will be conducted through case studies and micro-benchmarks to measure the detection rate of vulnerabilities and introduced performance overhead. Concretely, we will implement and evaluate a WebTaint against SQL Injection and Cross-Site Scripting vulnerabilities.



\section{Contribution}
\label{Contribution}
The contribution of the thesis is to continue the research in the code injection and information flow field. This is done through:

\begin{itemize}  
    \item Implementing of WebTaint. A dynamic taint tracker for Java-based web applications.
    \item Evaluation of WebTaint for vulnerability detection rate and performance overhead.
    \item Discussing and drawing conclusions regarding the use of dynamic taint trackers for Java-based web applications.
\end{itemize}



\section{Limitations}
\label{Delimitations}
The focus of the thesis lies in the security vulnerabilities of web applications. However, other application areas might be subjected to the same kind of vulnerabilities. This thesis will neither discuss or present information regarding those areas to keep the scope of the thesis at a reasonable level. Another limitation to keep the reasonable level of the scope is the decision of not discussing or presenting all information regarding Injection vulnerabilities. Injection attacks are a broad vulnerability, but this thesis will focus on Injection attacks towards SQL and Cross-Site Scripting vulnerabilities.

We developed WebTaint for Java-based web applications with the help of the bytecode library Javassist. WebTaint is a dynamic taint tracker constructed to combat integrity and confidentiality vulnerabilities. The evaluation of WebTaint is only conducted on introduced overhead and detection of integrity vulnerabilities. This is due to time limitations.



\section{Methodology}
\label{Methodology}
To answer how taint tracking can secure Java-based web applications, we use a combination of both qualitative and quantitative methods. The literature study represents the qualitative research where information about web application security, SQL Injection, Cross-Site Scripting, dynamic taint tracking, and related work is gathered, presented and discussed. This information is needed to comprehend how the taint tracker needs to operate to detect possible malicious user data successfully. The information is gathered from reports and books found through the search portal KTH Primo \parencite{primo}.

The quantitative research, on the other hand, consists of the implementation and evaluation of WebTaint where benchmarks for introduced overhead and security assurance will be performed. The introduced overhead is conducted with the DaCapo Benchmark Suite \parencite{dacapo} consisting of fourteen applications mimicking common Java applications. Security assurance is evaluated through case studies where four applications are tested.



\section{Ethics \& Sustainability}
\label{Ethics}
The ethical and sustainability aspects of the thesis have mainly a positive impact on everyone using the web. All users of the tool will achieve a gain in some form, except for the users with malicious intent. The goal is accordingly to combat existing security vulnerabilities in already existing web applications. This increase in security will help companies to provide more secure services to the clients. In the end, the users will gain secured information and reduced risk of becoming victims of code injection attacks.

So, the use of WebTaint result in more robust and secure applications thanks to the ability to find possible security vulnerabilities and giving the ability to fix them. The taint could be used by the developers in the daily work to validate the soundness of the implemented code. This would ease some of the work for the developer.

As far as we can see there is only one unethical aspect of WebTaint and that is the fact that the taint tracker gains access to all data processed by the application. Therefore, a proper implementation of the taint tracker is essential to ensure that it is not possible to abuse the taint tracker to gain access to information.



\section{Outline}
\label{Outline}
The thesis outline starts with the \textit{\nameref{Background}} presenting information regarding the subject. Next follows \textit{\nameref{RW}} containing previous research and developed taint trackers. This follows by \textit{\nameref{Implementation}} and \textit{\nameref{Evaluation}} of WebTaint. Next comes \textit{\nameref{Result}} presenting the case study and introduced overhead results. Lastly comes the \textit{\nameref{Discussion}}, \textit{\nameref{FutureWork}} and \textit{\nameref{Conclusion}} chapters.
