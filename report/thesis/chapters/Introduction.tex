\chapter{Introduction}
\label{Introduction}
The creation of the World Wide Web has caused a significant impact on today's society \parencite{www}. The internet has become an important source of information and it connects the world through a single platform. Many businesses have taken advantage of this to share information, communicate with customers, and create new business opportunities. However, this advancement in technology does not come without drawbacks. The web applications are not only accessible to targeted user groups but also to anyone with access to the web. This enables malicious users to abuse and cause harm to other users of web applications. 

There have been a plethora of incidents causing vulnerabilities resulting in everything from money loss, disclosure or destruction of information. One of these incidents is the infamous Heartbleed Bug affecting all users of the OpenSSL cryptographic library. The cryptographic library contained a bug causing protected information to be readable by anybody on the web \parencite{Heartbleed}. Another vulnerability is Stagefright which affected Android users. The vulnerability made it possible through a malicious MMS to gain full control over Smartphones \parencite{2015ASvt}. 

All applications with accessibility from the web share the problem of managing both trusted and untrusted data. The trusted data comes from the application itself and is, for example, the database. Untrusted data is data modifiable by users through for example an input form. Untrusted data needs to be sanitized before use. The consequences of mistakenly trusting untrusted data can be catastrophic. A variety of tools have been created to minimize the risk of accidentally introducing security flaws into applications. One of these tools is taint tracking, which attempts to secure an application through information flow control. Taint tracking works by tracking untrusted data through the application into sensitive code areas which for example is database queries. Cases where untrusted data can enter sensitive code areas will be flagged to let the developers know where further development in the form of sanitation is needed to secure the application \parencite{Pan2015, Venkataramani2008}. This opens for the questions how useful taint tracker is for web applications and if a dynamic taint tracker can be used as a security solution for production services.



\section{Problem}
\label{Problem}
\begin{chapquote}{}
    How can taint tracking secure Java-based web applications? What kind of advantages and disadvantages will this entail?
\end{chapquote}

\noindent
Code injection is a growing problem and work toward protecting user data is needed. Two of the most common vulnerabilities in the area, according to the Open Web Application Security Project, are Injection attacks and Cross-Site Scripting caused by unsanitized user input \parencite{OWASP2017}. The way to fight the problem with unsanitized user input has many solutions where taint tracking is one. Is it possible to protect web applications by implementing a dynamic taint tracker to run and analyze the code at runtime? To what extent will the taint tracker protect the application? What advantages and disadvantages will it entail? Is the solution capable of being integrated into production services?



\section{Aim}
\label{Aim}
This thesis aims to implement and evaluate a dynamic taint tracker, named WebTaint, to combat integrity and confidentiality vulnerabilities in Java-based web applications. 

WebTaint aims to allow tracking of taint for Strings including data types used for String operations. These data types are String, StringBuilder, StringBuffer, CharArray and ByteArray. WebTaint will be evaluated through case studies and micro-benchmarks to measure the detection rate of vulnerabilities and introduced overhead. Concretely, we will implement and benchmark a dynamic taint tracker against SQL Injection and Cross-Site Scripting vulnerabilities. 



\section{Contribution}
\label{Contribution}
The contribution of the thesis is continued research in the code injection and information flow field. This is done through:

\begin{itemize}  
    \item Implementing WebTaint. A dynamic taint tracker for Java-based web applications.
    \item Evaluating WebTaint for vulnerability detection rate and introduced overhead.
    \item Discussing and drawing conclusions regarding usage of dynamic taint tracking for Java-based web applications.
\end{itemize}



\section{Limitations}
\label{Delimitations}
The focus of the thesis lies in security vulnerabilities of web applications. However, other application areas might be subjects to the same kind of vulnerabilities. This thesis will not discuss or present information regarding those areas. 

Injection attacks, which is the number one vulnerability on OWASP's top ten vulnerabilities for the year 2017 \parencite{OWASP2017}, is a broad vulnerability. This thesis focuses on Injection attacks towards SQL and Cross-Site Scripting. However, detection and prevention of other types of Injection attacks are similar to SQL Injection.

We developed WebTaint for Java-based web applications with the help of the bytecode library Javassist. WebTaint is a dynamic taint tracker constructed to combat integrity and confidentiality vulnerabilities. The evaluation of WebTaint is only conducted on introduced overhead and detection of integrity vulnerabilities. This is due to time limitations.



\section{Methodology}
\label{Methodology}
To answer the problem statement in section \ref{Problem}, we use a combination of qualitative and quantitative methods. The literature study represents the qualitative research where information about web application security, SQL Injection, Cross-Site Scripting, dynamic taint tracking, and related work is gathered, presented and discussed. This information is needed to comprehend how the taint tracker needs to operate to detect possible malicious user data successfully. The information is gathered from reports and books found through the search portal KTH Primo \parencite{primo}.

The quantitative research consists of the implementation and evaluation of WebTaint where benchmarks for introduced overhead and security assurance will be performed. Introduced overhead is conducted with with DaCapo \parencite{dacapo} benchmark suite consisting of fourteen applications representing common application executions. Security assurance is evaluated through use cases where four applications are tested.



\section{Ethics \& Sustainability}
\label{Ethics}
The ethical and sustainability aspects of the thesis have for the majority positive impact. All users of the tool will achieve a gain in some form, except for users with malicious intent. The goal is to combat existing security vulnerabilities in already existing web applications. This increase in security will help companies to provide more secure services. The end users gain is secured information and reduce the risk of becoming victims of code injection attacks.

Usage of WebTaint could result in more robust and secure applications thanks to the ability to find possible security vulnerabilities faster. The taint tracker would as well help the developer in the daily work by validating the soundness of the implemented code. This would ease some of the work for the developer.

The only unethical aspect of WebTaint is the fact that the taint tracker gains access to all data processed by the application. Proper implementation of the taint tracker is therefore needed to ensure that it is not possible to abuse.



\section{Outline}
\label{Outline}
The thesis outline starts with the \textit{\nameref{Background}} presenting information regarding the subject. This follows by \textit{\nameref{RW}} containing previous research and developed taint trackers. This follows by \textit{\nameref{Implementation}} and \textit{\nameref{Evaluation}} of WebTaint. Next comes \textit{\nameref{Result}} presenting the case study and introduced overhead results. Lastly comes the \textit{\nameref{Discussion}}, \textit{\nameref{FutureWork}} and \textit{\nameref{Conclusion}} chapters.